<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="style.css">
    <title>TABLE</title>
</head>

<body>
    <h1>USER TABLE</h1>
    <div>
        <input type="text" id="myInput" onkeyup="search()" placeholder="Search for names.." title="Type in a name">
    </div>
    <table id="user">
        <thead>
            <tr>
                <th>Name</th>
                <th>Address</th>
                <th>Phone Number</th>
                <th>Date of Birth</th>
                <th>Age</th>
                <th>Gender</th>
            </tr>
        </thead>
        <tbody id="tbody"></tbody>
    </table>
    

    <div id="inputBox">
        <p><b>ADD NEW USERS</b> </p>
        <div class="one">
            <label for="name"><b>Name:</b></label></label><br>
            <input type="text" id="name" placeholder="Enter your name">
            <br><br>
        </div>

        <div class="two">
            <label for="address"><b>Address:</b></label><br>
            <input type="text" id="address" placeholder="Enter your address">
        </div>
        <br><br>

        <div class="three">
            <label for="phone"><b>Phone Number:</b></label><br>
            <input type="text" id="phone" placeholder="Enter your phone number">
        </div>
        <br><br>

        <div class="four">
            <label for="dob"><b>Date of Birth:</b></label><br>
            <input type="date" id="dob">
        </div>
        <br><br>

        <div class="five">
            <label for="age"><b>Age:</b></label><br>
            <input type="number" id="age" placeholder="Enter your age">
        </div>
        <br><br>

        <div class="six">
            <label for="gender"><b>Gender:</b></label><br>
            <select id="gender">
                <option value="Male">Male</option>
                <option value="Female">Female</option>
                <option value="Other">Other</option>
            </select>
        </div>
        <br><br>

        <div class="btn">
            <button onclick="addData()">Add</button>
        </div>
    </div>

    <script>
        const data = [
            {
                name: "Pritha",
                address: "Baneshwor",
                phoneNumber: "9861542523",
                dateOfBirth: "2000-01-09",
                age: 23,
                gender: "Female"
            },
            {
                name: "Riya",
                address: "Bhaktapur",
                phoneNumber: "98236424",
                dateOfBirth: "2002-03-27",
                age: 21,
                gender: "Female"
            },
            {
                name: "Priya",
                address: "Bhaktapur",
                phoneNumber: "98236424",
                dateOfBirth: "2002-03-27",
                age: 21,
                gender: "Female"
            },
            {
                name: "Sanil",
                address: "Kritipur",
                phoneNumber: "23564565",
                dateOfBirth: "2001-01-15",
                age: 22,
                gender: "Male"
            },
            {
                name: "Srijal",
                address: "Thankot",
                phoneNumber: "84373657",
                dateOfBirth: "2000-02-27",
                age: 23,
                gender: "Male"
            }
        ];


        const tbody = document.getElementById("tbody");

        data.forEach((item) => {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${item.name}</td>
                <td>${item.address}</td>
                <td>${item.phoneNumber}</td>
                <td>${item.dateOfBirth}</td>
                <td>${item.age}</td>
                <td>${item.gender}</td>`;

            tbody.appendChild(row);
        });

        function addData() {
            const nameInput = document.getElementById('name');
            const addressInput = document.getElementById('address');
            const phoneInput = document.getElementById('phone');
            const dobInput = document.getElementById('dob');
            const ageInput = document.getElementById('age');
            const genderInput = document.getElementById('gender');

            const newRow = document.createElement('tr');
            const nameCell = document.createElement('td');
            const addressCell = document.createElement('td');
            const phoneCell = document.createElement('td');
            const dobCell = document.createElement('td');
            const ageCell = document.createElement('td');
            const genderCell = document.createElement('td');

            nameCell.textContent = nameInput.value;
            addressCell.textContent = addressInput.value;
            phoneCell.textContent = phoneInput.value;
            dobCell.textContent = dobInput.value;
            ageCell.textContent = ageInput.value;
            genderCell.textContent = genderInput.value;

            newRow.appendChild(nameCell);
            newRow.appendChild(addressCell);
            newRow.appendChild(phoneCell);
            newRow.appendChild(dobCell);
            newRow.appendChild(ageCell);
            newRow.appendChild(genderCell);

            const userTable = document.getElementById('user');
            userTable.appendChild(newRow);

            nameInput.value = '';
            addressInput.value = '';
            phoneInput.value = '';
            dobInput.value = '';
            ageInput.value = '';
            genderInput.value = 'Male';
        }

        function search() {
            const input = document.getElementById("myInput");
            const filter = input.value.toUpperCase();
            const rows = Array.from(tbody.getElementsByTagName("tr"));

            rows.filter((row) => {
                const nameCol = row.getElementsByTagName("td")[0]; //each row ko 1st td lincha with column 0 ie name column

                if (nameCol) {
                    const nameValue = nameCol.textContent || nameCol.innerText; //if name col exists, it retrieves the text content of the column
                    const nameMatch = nameValue.toUpperCase().includes(filter); // compares uppercase name value with filter.
                    //const nameMatch = nameValue.toUpperCase() == filter;
                    //if == use gareko bhaye it would only show the rows where the entire text content of the name column  matches the filter string exactly.
                    if (nameMatch) {
                        row.style.display = "";
                    } else {
                        row.style.display = "none";
                    }
                    // Display the row if nameMatch exists, otherwise hide it
                }
            });
        }

    </script>
</body>

</html>